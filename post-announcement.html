<html>

<head>
  <title>Post an announcement</title>
</head>

<h1>Post an announcement</h1>

<form class="postAnnouncement">
    <div>
		<label>Announcement Title: </label>
        <input type="text" id="annoncementTitle" style="width:100%;">
    </div>
    <div>
		<label>Content: </label>
        <textarea type="text" id="announcementContent" style="width:100%; height:50%; box-sizing: border-box;" size="10"></textarea>
    </div>
	<button type="button" onclick="postAnnouncement()">
        <i>Post</i>
    </button>
	<button type="button" onclick="cancelAnnouncement()">
        <i>Cancel</i>
    </button>
</form>


<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>

<script>
  var config = {
    apiKey: "AIzaSyAvVTgyZW_IpBkNyWKDUFnJjNKlDlcl7Bo",
    authDomain: "kaist-scms.firebaseapp.com",
    databaseURL: "https://kaist-scms.firebaseio.com",
    projectId: "kaist-scms",
    storageBucket: "kaist-scms.appspot.com",
    messagingSenderId: "716217260337"
  };
  firebase.initializeApp(config);
</script>

<script>
function postAnnouncement() {
	var user = firebase.auth().currentUser.id;
	var title=document.getElementById("announcementTitle").value;
	var content=document.getElementById("announcementContent").value;
	var date = new Date();
	date = date.toDateString();
	var announcementData = {
    announcement_author: user,
    announcement_body: content,
    announcement_title: title,
    announcement_date: date
  };
	var newAnnouncementKey = firebase.database().ref().child('clubs\'+ club).child(announcement_title).set(annoncementData);
}
</script>


</html>
